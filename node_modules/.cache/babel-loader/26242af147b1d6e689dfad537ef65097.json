{"ast":null,"code":"import _classCallCheck from \"D:\\\\OnGoing\\\\CourseAgregator\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\OnGoing\\\\CourseAgregator\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\OnGoing\\\\CourseAgregator\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\OnGoing\\\\CourseAgregator\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\OnGoing\\\\CourseAgregator\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\OnGoing\\\\CourseAgregator\\\\src\\\\views\\\\login\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport AppHelper from \"helpers/AppHelper.js\";\nimport { connect } from 'react-redux';\nimport { requestLogin, developerModeLogin } from 'actions';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.errorMessage = function () {\n      if (_this.state.error) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, _this.state.errorMsg));\n      }\n    };\n\n    _this.handleEmailChange = function (e) {\n      _this.setState({\n        emailId: e.target.value\n      });\n    };\n\n    _this.handlePasswordChange = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.validationCheck = function () {\n      var email = _this.state.emailId;\n      var password = _this.state.password;\n\n      if (email.length > 0 && password.length > 0) {\n        return true;\n      } else {\n        _this.setState({\n          error: true,\n          errorMsg: \"Email or password must not be empty!\"\n        });\n\n        return false;\n      }\n    };\n\n    _this.performLogin = function (e) {\n      e.preventDefault();\n\n      if (_this.state.developerMode) {\n        console.log('inside developerMode login');\n\n        _this.props.dispatchDeveloperModeLogin();\n\n        AppHelper.developerModeLoginUser(true);\n        return;\n      }\n\n      console.log('outside developerMode login');\n      if (!_this.validationCheck()) return;\n\n      _this.props.dispatchLogin(_this.state).then(function (response) {\n        if (response && response.payload && response.payload.data && response.payload.data.data && response.payload.data.data.accessToken) {\n          var accessToken = response.payload.data.data.accessToken;\n          AppHelper.loginUser(true, accessToken);\n        } else {\n          _this.setState({\n            error: true,\n            errorMsg: \"Invalid credentials!\"\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      emailId: '',\n      password: '',\n      developerMode: true,\n      // Change this to false to contact API\n      error: false,\n      errorMsg: ''\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.props.parentState.title), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s6 offset-s3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"Email\",\n        id: \"email\",\n        type: \"email\",\n        className: \"validate\",\n        onChange: this.handleEmailChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        placeholder: \"Password\",\n        id: \"password\",\n        type: \"password\",\n        className: \"validate\",\n        onChange: this.handlePasswordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), this.errorMessage(), this.props.loginLoading ? \"Loading...\" : React.createElement(\"a\", {\n        className: \"waves-effect waves-light btn\",\n        id: \"loginButton\",\n        onClick: this.performLogin,\n        href: \"#!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"cloud\"), \"Login\")))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dispatchLogin: function dispatchLogin(data) {\n      return dispatch(requestLogin(data));\n    },\n    dispatchDeveloperModeLogin: function dispatchDeveloperModeLogin() {\n      return dispatch(developerModeLogin());\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loginLoading: state.loginStatus.loginLoading\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:\\OnGoing\\CourseAgregator\\src\\views\\login\\login.jsx"],"names":["React","Component","AppHelper","connect","requestLogin","developerModeLogin","Login","props","errorMessage","state","error","errorMsg","handleEmailChange","e","setState","emailId","target","value","handlePasswordChange","password","validationCheck","email","length","performLogin","preventDefault","developerMode","console","log","dispatchDeveloperModeLogin","developerModeLoginUser","dispatchLogin","then","response","payload","data","accessToken","loginUser","parentState","title","loginLoading","mapDispatchToProps","dispatch","mapStateToProps","loginStatus"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppHelper from \"helpers/AppHelper.js\";\r\nimport { connect } from 'react-redux';\r\nimport { requestLogin, developerModeLogin } from 'actions';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      emailId: '',\r\n      password: '',\r\n      developerMode: true, // Change this to false to contact API\r\n      error: false,\r\n      errorMsg: ''\r\n    };\r\n  }\r\n\r\n  errorMessage = () => {\r\n    if (this.state.error) {\r\n      return (\r\n        <p><b>{this.state.errorMsg}</b></p>\r\n      )\r\n    }\r\n  }\r\n\r\n  handleEmailChange = (e) => {\r\n    this.setState({\r\n      emailId: e.target.value\r\n    });\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  validationCheck = () => {\r\n    let email = this.state.emailId\r\n    let password = this.state.password\r\n    if ((email.length > 0) && (password.length > 0)) {\r\n      return true\r\n    } else {\r\n      this.setState({\r\n        error: true,\r\n        errorMsg: \"Email or password must not be empty!\"\r\n      })\r\n      return false\r\n    }\r\n  }\r\n\r\n  performLogin = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.developerMode) {\r\n      console.log('inside developerMode login');\r\n      this.props.dispatchDeveloperModeLogin();\r\n      AppHelper.developerModeLoginUser(true);\r\n      return;\r\n    }\r\n    console.log('outside developerMode login');\r\n    if (!this.validationCheck()) return;\r\n    this.props.dispatchLogin(this.state).then((response) => {\r\n      if (\r\n        response && response.payload && response.payload.data &&\r\n        response.payload.data.data && response.payload.data.data.accessToken\r\n      ) {\r\n        const accessToken = response.payload.data.data.accessToken;\r\n        AppHelper.loginUser(true, accessToken);\r\n      } else {\r\n        this.setState({\r\n          error: true,\r\n          errorMsg: \"Invalid credentials!\"\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n        <h1>\r\n          {this.props.parentState.title}\r\n        </h1>\r\n        <div className='row'>\r\n          <div className='row'>\r\n            <div className='col s6 offset-s3'>\r\n              <input placeholder=\"Email\" id=\"email\" type=\"email\" className=\"validate\" onChange={this.handleEmailChange} />\r\n              <input placeholder=\"Password\" id=\"password\" type=\"password\" className=\"validate\" onChange={this.handlePasswordChange} />\r\n              {this.errorMessage()}\r\n              {\r\n                this.props.loginLoading ?\r\n                  \"Loading...\" :\r\n                  <a className=\"waves-effect waves-light btn\" id=\"loginButton\" onClick={this.performLogin} href=\"#!\">\r\n                    <i className=\"material-icons left\">cloud</i>Login\r\n                  </a>\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatchLogin: (data) => dispatch(requestLogin(data)),\r\n    dispatchDeveloperModeLogin: () => dispatch(developerModeLogin())\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loginLoading: state.loginStatus.loginLoading\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}